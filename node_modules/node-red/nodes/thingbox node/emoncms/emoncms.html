<script type="text/x-red" data-template-name="emoncms">
    <div class="form-row">
        <label for="node-input-apikey"><i class="icon-lock"></i>Apikey</label>
        <input type="text" id="node-input-apikey" placeholder="Api Key">
    </div> 
    <div class="form-row">
        <label for="node-input-key"><i class="icon-lock"></i>Key</label>
        <input type="text" id="node-input-key" placeholder="electricity">
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i>Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>


<!-- Next, some simple help text is provided for the node.                   -->
<script type="text/x-red" data-help-name="emoncms">
	<p><font size="-2">Posts data on Emoncms</font></p>
	<h2>Emoncms</h2>
    <font size="-1"><p>Emoncms is a powerful open-source web-app for processing, logging and visualising energy, temperature and other environmental data.</p>
	<p>Get a free account on emoncms.org</p></font>
	<p><b>Node description :</b><br/><font size="-1">Posts the payload on a EmonCMS account.</font></p>
	<p><b>How to :</b><font size="-1">
	<br/>-apikey : API Key availabe on your profile settings.
	<br/>-key : key of the data.
	</font></p>
	<p><b>Time : </b></p>
    <font size="-1">A time can be specified in <b>msg.timestamp</b>. This time has to be a timestamp.</font>
	
</script>




<script type="text/javascript">
    RED.nodes.registerType('emoncms',{
        category: 'storage-output',
        color: "#F29999",
        defaults: {
			name: {value:""},
            key: {value:""},
            apikey: {value:""},
        },
        inputs:1,
        outputs:0,

        icon: "emoncms-logo.png",
        label: function() {
            return this.name||this.key||"emoncms";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
