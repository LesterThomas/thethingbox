<!--
  Copyright 2014 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="tinamous">

	<div class="form-row">
        <label for="node-input-account"><i class="icon-user"></i>Account</label>
        <input type="text" id="node-input-account" placeholder="Account">
    </div>
	
	<br />

	<div class="form-row">
		<label for="node-input-basic_key"><i class="icon-lock"></i>Basic Key</label>
        <input type="text" id="node-input-basic_key" placeholder="Basic key">
    </div>
	
	<br />
	
    <div class="form-row">
        <label for="node-input-field"><i class="icon-tasks"></i>Field</label>
			<select id="node-input-field" style="width:125px !important">
				<option value="">Select Field</option>
				<option value="Field1">Field 1</option>
				<option value="Field2">Field 2</option>
				<option value="Field3">Field 3</option>
				<option value="Field4">Field 4</option>
				<option value="Field5">Field 5</option>
				<option value="Field6">Field 6</option>
				<option value="Field7">Field 7</option>
				<option value="Field8">Field 8</option>
				<option value="Field9">Field 9</option>
				<option value="Field10">Field 10</option>
				<option value="Field11">Field 11</option>
				<option value="Field12">Field 12</option>
			</select>
    </div>

    <br/>
	
    <div class="form-row">
        <label for="node-input-format"><i class="icon-tasks"></i>Type</label>
			<select id="node-input-format" style="width:150px !important">
				<option value="">Select type</option>
				<option value="realt">Real time</option>
				<option value="jetl">Jet lag</option>
			</select>
    </div>
	
	<br />
	
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="tinamous">

	<font size="-2">Create many graph for one device</font>
   <h2><p>Tinamous</p></h2>
   <font size="-1"><p>Tinamous allows the user to have 12 graph for each device. Each graph can be download in jpeg, png, pdf or svg format.
   <br />A free Tinamous account is necessary : http://tinamous.com</p></font>
   
   <p><b>Node description : </b><p>
   <font size="-1"><p>This node sends the payload and the timestamp of the message to Tinamous which is going to save the data and create graph. </p>
   
   <p><b>How to :</b></p>
   <font size="-1"><p>- Account : Account to authenticate
   <br />- basic_key : Token which corresponds of your device key. It can be <b>generated on the device setting</b>, don't forget to precise your user name and password or only a half of the key will appear.
   <br />- field : Corresponds to a graph. Example : <i>Field 1</i></p> </font>
   
   <p><b>Options :</b></p>
   <font size="-1"><p>- Real time : Sends data with UTC+00:00 so it doesn't care about the jet lag.
   <br />- Jet lag : Sends the data considering the time difference. Warning data will be displayed the precise time but will only be displayed when UTC+00:00 be the same as the time of data sent.</p></font>
   
   <p><b>Time : </b></p>
   <font size="-1">A time can be specified in <b>msg.timestamp</b>. This time has to be a timestamp.</font>
   
</script>

<script type="text/javascript">
    RED.nodes.registerType('tinamous',{
        category: 'storage-output',      // the palette category
        color: "#e5f6fd",
        defaults: {             // defines the editable properties of the node
            name: {value:""},	//  along with default values.
			account: {value:""},
			basic_key: {value:""},
			field: {value:""},
			format: {value:""},
        },
        inputs:1,               // set the number of inputs - only 0 or 1
        outputs:0,              // set the number of outputs - 0 to n
        
        icon: "tinamous.png",     // saved in  icons/myicon.png
        label: function() {     // sets the default label contents
            return this.name||this.to||"tinamous";
        },
        labelStyle: function() { // sets the class to apply to the label
            return this.name?"node_label_italic":"";
        }
    });
</script>
